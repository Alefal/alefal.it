
<ion-view class="home-view">
     
     <!--
   <ion-nav-title>    <span>Recent posts</span>  </ion-nav-title>
     -->
   <ion-content>
      <!-- Refresh to get the new posts -->    
      <ion-refresher pulling-text="Pull to refresh..." on-refresh="doRefresh()">    </ion-refresher>
          
      <div class="posts">
        <!--
        <div post-card ng-repeat="post in posts" class="post-card"></div>
        -->
        <div ng-repeat="post in posts" class="post-card">
          <div class="card-header">
            <h1 ng-bind-html="post.title"></h1>
            <h2>Posted <span am-time-ago="post.date"></span> by <span class="author" ng-bind-html="post.author.name"></span></h2> 
          </div>
          <div class="card-content" ng-bind-html="post.content"></div>

          <div class="card-footer">  
            <a class="card-button secondary" ng-click="sharePost(post.url)">SHARE</a>  
            <a class="card-button primary" ui-sref="app.post({postId :post.id})">READ MORE</a>  
            <a ng-show="post.comment_count > 0" class="card-button comments" ui-sref="app.post({postId :post.id})">    
              <i class="icon ion-chatbox"></i>{{post.comment_count}}  
            </a>  
            <a class="card-button secondary bookmark" ng-click="bookmarkPost(post)">    
              <i class="icon ion-bookmark"></i>  
            </a>
          </div>
        </div>
             
      </div>
          <!-- Infinit scroll -->    
      <ion-infinite-scroll ng-if="moreDataCanBeLoaded()" on-infinite="loadMoreData()" distance="1%" icon="ion-loading-c">    </ion-infinite-scroll>
        
   </ion-content>
   
</ion-view>