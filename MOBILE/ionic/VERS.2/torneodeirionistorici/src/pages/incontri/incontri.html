<ion-header>
	<ion-navbar color="greenDark">
		<ion-title>Incontri</ion-title>
	</ion-navbar>

	<ion-toolbar color="greenDark">
		<ion-searchbar (ionInput)="getItems($event)" (ionClear)="onCancel($event)" placeholder="Squadra"></ion-searchbar>
	</ion-toolbar>
</ion-header>

<ion-content padding class="home-view">

	<div class="errorMessage" *ngIf="errorMessageView">{{errorMessage}}</div>

	<div class="posts" *ngIf="!errorMessageView">
		
		
		<div class="post-card" *ngFor="let match of incontri">
			<div *ngIf="match.homeName && match.awayName">

				<div class="card-header gridHeader">
					<h5>{{match.homeName}} - {{match.awayName}}</h5>
					<h6><ion-icon name="calendar"></ion-icon> <strong>{{match.match_date}} {{match.match_time}}</strong></h6>
					<h6><ion-badge color="greenDark">{{match.preview}}</ion-badge></h6>

					<ion-grid>
						<ion-row>
							<ion-col width-33>
								<img *ngIf="match.home_team_logo !== null" src="{{match.home_team_logo}}" class="logoSquadra" />
								<img *ngIf="match.home_team_logo === null" src="assets/img/logoVuoto.png" class="logoSquadra" />
							</ion-col>
							<ion-col width-33 class="result">
								<h5 *ngIf="match.homeGoal == '' && match.awayGoal == ''"><ion-badge color="yellow">Da giocare</ion-badge></h5>
								<h5 *ngIf="match.homeGoal != '' && match.awayGoal != ''">{{match.result}}</h5>
							</ion-col>
							<ion-col width-33>
								<img *ngIf="match.away_team_logo !== null" src="{{match.away_team_logo}}" class="logoSquadra" />
								<img *ngIf="match.away_team_logo === null" src="assets/img/logoVuoto.png" class="logoSquadra" />
							</ion-col>
						</ion-row>
					</ion-grid>
				</div>
				<div class="card-footer" *ngIf="match.homeGoal != '' && match.awayGoal != ''">
					<ion-grid>
						<ion-row>
							<ion-col width-50 align="center">
								<a class="card-button primary" (click)="tabellino(match.match_id,match.homeName,match.awayName,match.result,match.homeId,match.awayId,match.home_team_logo,match.away_team_logo)">
									<span><ion-icon name="share-alt"></ion-icon> Tabellino</span>
								</a>
							</ion-col>
							<ion-col width-50 align="center" *ngIf="match.youtube != '' && match.youtube !== null && networkFound">
								<a class="card-button primary" (click)="live(match.match_id,match.homeName,match.awayName,match.result,match.home_team_logo,match.away_team_logo)">
									<span *ngIf="match.youtubeCode != ''"><ion-icon name="eye"></ion-icon> Live</span>
								</a>
							</ion-col>
						</ion-row>
					</ion-grid>
					
				</div>
			</div>

			<div *ngIf="!match.homeName && !match.awayName">
				<div class="card-header">
					<h3>Matchs non disponibili</h3>
				</div>
				<div class="card-content">
					<p>
						I matchs saranno disponibili alla fine della fase a gironi
					</p>
				</div>
			</div>
		</div>
	</div>

	<ion-fab right bottom *ngIf="networkFound">
		<button ion-fab color="greenDark" (click)="getData()"><ion-icon name="refresh"></ion-icon></button>
	</ion-fab>

</ion-content>